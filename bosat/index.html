<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Bảo Tàng Tiến Hoá: Bò Sát & Lưỡng Cư</title>
    
    <meta property="og:title" content="Bảo Tàng Tiến Hoá: Bò Sát & Lưỡng Cư" />
    <meta property="og:description" content="Khám phá hành trình tiến hoá kỳ diệu và những sự thật thú vị về bò sát và lưỡng cư dành cho bé." />
    <meta property="og:image" content="https://mekeconnghe.github.io/phattrientuduy/bosat/thumbnail.jpg" />
    <meta property="og:url" content="https://mekeconnghe.github.io/phattrientuduy/bosat/" />
    <meta property="og:type" content="website" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fadeIn 0.3s ease-out forwards;
        }
        
        .perspective-1000 {
            perspective: 1000px;
        }

        .noselect {
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
        }

        .progress-transition {
            transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
    </style>
</head>
<body class="bg-amber-50 min-h-screen font-sans text-gray-800 flex flex-col items-center py-4 px-3 md:py-6 md:px-4">

    <div class="text-center mb-4 w-full space-y-2">
        <h1 class="text-xl md:text-3xl font-bold text-amber-800 flex items-center justify-center gap-2">
            <i data-lucide="landmark" class="w-6 h-6 md:w-8 md:h-8"></i>
            Bảo Tàng Tiến Hoá
        </h1>
        <div class="text-sm md:text-xl font-semibold text-amber-600 uppercase tracking-widest border-b-2 border-amber-200 inline-block pb-1">
            Thế Giới Bò Sát & Lưỡng Cư
        </div>
        
        <div class="pt-1">
            <a href="https://zalo.me/g/hirmwg741" target="_blank" class="inline-flex items-center gap-2 bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600 text-white px-4 py-2 rounded-full text-xs md:text-sm font-bold shadow-md transition-all border-2 border-white ring-2 ring-pink-100">
                <i data-lucide="users" class="w-4 h-4"></i>
                Tham Gia Cộng đồng Mẹ Kể Con Nghe
            </a>
        </div>
    </div>

    <div class="w-full max-w-lg perspective-1000 group flex-grow flex flex-col justify-center mb-4">
        <div 
            id="flashcard"
            class="relative w-full bg-white rounded-2xl shadow-xl overflow-hidden cursor-pointer transition-all duration-300 transform active:scale-[0.99] border-b-4 border-amber-200 noselect"
            onclick="handleCardClick()"
        >
            <div class="absolute inset-0 flex flex-col h-full relative">
                
                <div id="card-header" class="flex-none flex flex-col w-full px-3 pt-2 mb-0 bg-white">
                    <div class="flex justify-between items-center mb-1">
                        <div class="flex items-center gap-1 text-gray-400 font-bold text-[10px]">
                            <i data-lucide="map" class="w-3 h-3 text-orange-400"></i>
                            <span id="counter-text">1/15</span>
                        </div>
                        <span id="side-indicator" class="px-2 py-0.5 rounded bg-amber-50 text-amber-600 font-bold text-[10px] uppercase">
                            Hình ảnh
                        </span>
                    </div>
                    <div class="w-full h-0.5 bg-gray-100 rounded-full overflow-hidden">
                        <div id="progress-bar" class="h-full bg-orange-400 rounded-full progress-transition" style="width: 5%"></div>
                    </div>
                </div>

                <div id="card-content" class="flex-grow flex flex-col items-center justify-center text-center w-full">
                    </div>
            </div>
        </div>
    </div>

    <div class="w-full max-w-lg flex gap-3 mb-4">
        <button 
            onclick="prevCard()"
            class="flex-1 flex items-center justify-center gap-2 bg-white hover:bg-gray-50 active:bg-gray-100 text-gray-700 px-4 py-3 rounded-xl shadow-sm border border-gray-200 font-bold text-base md:text-lg transition-colors touch-manipulation"
        >
            <i data-lucide="chevron-left" class="w-5 h-5 md:w-6 md:h-6"></i> Trước
        </button>
        
        <button 
            id="btn-next"
            onclick="nextCard()"
            class="flex-1 flex items-center justify-center gap-2 bg-amber-600 hover:bg-amber-700 active:bg-amber-800 text-white px-4 py-3 rounded-xl shadow-md shadow-amber-200 font-bold text-base md:text-lg transition-colors touch-manipulation"
        >
            Sau <i data-lucide="chevron-right" class="w-5 h-5 md:w-6 md:h-6"></i>
        </button>
    </div>

    <script>
        const dataSources = [
            {
                id: 1, name: "Cá Sấu", image: "ca-sau.jpg",
                facts: [
                    "Tổ tiên: Bắt nguồn từ Sarcosuchus (cá sấu đế vương) dài tới 12 mét, từng săn cả khủng long.",
                    "Hóa thạch sống: Chúng xuất hiện cách đây 200 triệu năm và gần như không thay đổi hình dáng cho đến nay.",
                    "Lực cắn kinh hoàng: Cá sấu sở hữu lực cắn mạnh nhất hành tinh, có thể nghiền nát xương con mồi dễ dàng.",
                    "Trái tim đặc biệt: Tim cá sấu có 4 ngăn và hệ thống van phức tạp nhất trong giới bò sát.",
                    "Nước mắt cá sấu: Khi ăn chúng thường chảy nước mắt, thực chất là để bôi trơn mắt chứ không phải do buồn."
                ]
            },
            {
                id: 2, name: "Rùa", image: "rua.jpg",
                facts: [
                    "Tổ tiên: Tiến hóa từ Odontochelys - loài rùa cổ đại có răng và chưa có phần mai ở trên lưng.",
                    "Mai liền xương: Mai rùa thực chất là xương sườn và cột sống phát triển dính liền nhau, chúng không thể chui ra khỏi mai.",
                    "Không có răng: Rùa hiện đại không có răng nhưng có mép hàm sừng sắc bén như mỏ chim.",
                    "Thở lạ đời: Một số loài rùa có khả năng lấy oxy qua hậu môn để ngủ đông dưới nước.",
                    "Tuổi thọ: Nhờ quá trình trao đổi chất cực chậm, rùa là một trong những loài động vật sống thọ nhất."
                ]
            },
            {
                id: 3, name: "Rắn", image: "ran.jpg",
                facts: [
                    "Tổ tiên: Tiến hóa từ loài bò sát có 4 chân tên là Tetrapodophis, sau đó tiêu biến chân để luồn lách.",
                    "Ngửi bằng lưỡi: Rắn thè lưỡi chẻ đôi để thu thập các hạt mùi trong không khí và đưa vào cơ quan Jacobson để ngửi.",
                    "Nuốt chửng: Xương hàm của rắn không gắn cố định, cho phép chúng mở miệng cực rộng để nuốt con mồi to hơn đầu.",
                    "Không có mí mắt: Mắt rắn luôn mở vì chúng không có mí mắt, thay vào đó là một lớp vảy trong suốt bảo vệ.",
                    "Lột xác: Rắn lột da định kỳ để lớn lên và loại bỏ các ký sinh trùng bám trên da cũ."
                ]
            },
            {
                id: 4, name: "Thằn Lằn Monitor", image: "than-lan-monitor.jpg",
                facts: [
                    "Tổ tiên: Là họ hàng gần và là tổ tiên trực tiếp của loài Rồng Komodo khổng lồ hiện nay.",
                    "Thông minh: Đây là một trong những loài bò sát thông minh nhất, có thể đếm và nhận biết chủ nhân.",
                    "Lưỡi chẻ: Giống như rắn, chúng cũng sử dụng chiếc lưỡi dài và chẻ đôi để đánh hơi con mồi.",
                    "Săn mồi chủ động: Khác với nhiều loài bò sát rình mồi, chúng chủ động chạy đuổi theo con mồi với tốc độ cao.",
                    "Đa năng: Chúng bơi giỏi, leo cây tốt và cũng có thể đào hang rất nhanh."
                ]
            },
            {
                id: 5, name: "Ếch", image: "ech.jpg",
                facts: [
                    "Tổ tiên: Tiến hóa từ Gerobatrachus - một loài hóa thạch cổ đại được coi là 'loài lai' giữa ếch và kỳ nhông.",
                    "Biến thái hoàn toàn: Trải qua quá trình biến đổi kỳ diệu từ nòng nọc (thở bằng mang dưới nước) thành ếch (thở bằng phổi trên cạn).",
                    "Thở qua da: Ếch có thể hấp thụ oxy trực tiếp qua lớp da ẩm ướt, giúp chúng lặn lâu dưới nước.",
                    "Lưỡi dính: Lưỡi ếch gắn ở phía trước hàm, có thể phóng ra cực nhanh và dính chặt lấy con mồi.",
                    "Mắt nuốt mồi: Khi nuốt, ếch nhắm mắt và thụt nhãn cầu xuống để đẩy thức ăn xuống cổ họng."
                ]
            },
            {
                id: 6, name: "Kỳ Nhông", image: "ky-nhong.jpg",
                facts: [
                    "Tiến hóa: Giữ lại hình thái cơ thể dài và đuôi rất giống với tổ tiên lưỡng cư cổ đại, nhưng kích thước nhỏ hơn.",
                    "Tái sinh siêu đẳng: Kỳ nhông có khả năng mọc lại chân, đuôi, và thậm chí cả một phần tim hoặc não nếu bị mất.",
                    "Sống hai nơi: Tên tiếng Anh 'Amphibian' nghĩa là 'hai cuộc sống' (dưới nước và trên cạn).",
                    "Da nhạy cảm: Da của chúng tiết ra chất nhầy để giữ ẩm và một số loài có độc tố để tự vệ.",
                    "Không có tiếng kêu: Phần lớn kỳ nhông không có dây thanh quản nên chúng rất yên lặng, khác hẳn với ếch."
                ]
            },
            {
                id: 7, name: "Kỳ Đà", image: "ky-da.jpg",
                facts: [
                    "Tiến hóa: Sự thích nghi tuyệt vời của nhóm thằn lằn với môi trường khô hạn và khắc nghiệt.",
                    "Cỗ máy chạy: Cơ thể thuôn dài và cái đuôi khỏe giúp chúng giữ thăng bằng khi chạy ở tốc độ cao.",
                    "Đuôi roi: Khi bị đe dọa, kỳ đà dùng đuôi quất mạnh như một chiếc roi để tự vệ gây đau đớn cho kẻ thù.",
                    "Móng vuốt: Bộ móng sắc nhọn giúp chúng đào hang tìm mối hoặc leo trèo tìm tổ chim.",
                    "Ăn tạp: Kỳ đà là những kẻ phàm ăn, chúng ăn từ côn trùng, trứng, đến cả xác động vật."
                ]
            },
            {
                id: 8, name: "Tắc Kè Đổi Màu", image: "tac-ke.jpg",
                facts: [
                    "Tiến hóa: Sự phát triển phức tạp của các tế bào sắc tố dưới da giúp chúng hòa mình vào môi trường.",
                    "Mắt độc lập: Hai mắt của tắc kè có thể xoay và nhìn về hai hướng hoàn toàn khác nhau cùng một lúc.",
                    "Tâm trạng hiện màu: Màu sắc thay đổi không chỉ để ngụy trang mà còn để thể hiện cảm xúc (tức giận, sợ hãi, tán tỉnh).",
                    "Chân gọng kìm: Các ngón chân dính liền thành hai nhóm đối diện giúp chúng kẹp chặt vào cành cây.",
                    "Đuôi cầm nắm: Chiếc đuôi linh hoạt hoạt động như một bàn tay thứ năm để bám vào cây."
                ]
            },
            {
                id: 9, name: "Trăn", image: "tran.jpg",
                facts: [
                    "Dấu tích cổ xưa: Trên cơ thể trăn vẫn còn dấu tích của xương chi sau (gọi là cựa/vảy nanh) từ tổ tiên có chân.",
                    "Săn mồi phục kích: Trăn không có nọc độc, chúng giết con mồi bằng cách siết chặt làm con mồi ngạt thở.",
                    "Cảm biến nhiệt: Các hốc nhỏ quanh môi trăn giúp chúng 'nhìn' thấy nhiệt độ cơ thể con mồi trong bóng tối.",
                    "Ăn ít no lâu: Một bữa ăn lớn có thể giúp trăn sống sót trong nhiều tuần hoặc nhiều tháng mà không cần ăn lại.",
                    "Bảo vệ trứng: Khác với nhiều loài bò sát, trăn mẹ thường cuộn tròn quanh trứng và rung cơ để tạo nhiệt ấp trứng."
                ]
            },
            {
                id: 10, name: "Rồng Đất", image: "rong-dat.jpg",
                facts: [
                    "Tiến hóa: Sự phát triển mạnh mẽ của các mào, gai nhọn dọc sống lưng để tự vệ và đe dọa kẻ thù.",
                    "Giao tiếp bằng đầu: Chúng thường gật đầu lên xuống liên tục để khẳng định lãnh thổ hoặc tán tỉnh con cái.",
                    "Con mắt thứ ba: Trên đỉnh đầu chúng có một cơ quan cảm quang (mắt đỉnh) để cảm nhận ánh sáng mặt trời.",
                    "Giả chết: Khi gặp nguy hiểm không thể chạy thoát, một số loài rồng đất sẽ nằm im giả chết.",
                    "Leo trèo giỏi: Móng vuốt và đuôi dài giúp chúng sống chủ yếu trên các cành cây cao."
                ]
            },
            {
                id: 11, name: "Rùa Biển", image: "rua-bien.jpg",
                facts: [
                    "Tiến hóa: Chân đã biến đổi hoàn toàn thành vây chèo dài và phẳng để thích nghi với việc bơi lội đại dương.",
                    "Không thể thụt đầu: Khác với rùa cạn, rùa biển không thể rụt đầu và chân vào trong mai để trốn.",
                    "Định vị từ trường: Chúng có khả năng cảm nhận từ trường Trái Đất để bơi hàng ngàn km về đúng nơi mình sinh ra để đẻ trứng.",
                    "Khóc ra muối: Rùa biển có tuyến lệ đặc biệt giúp thải lượng muối thừa từ nước biển qua mắt (giống như đang khóc).",
                    "Thức ăn: Tùy loài mà chúng ăn cỏ biển, nhưng món khoái khẩu của Rùa Da là sứa biển."
                ]
            },
            {
                id: 12, name: "Rùa Cạn Khổng Lồ", image: "rua-can.jpg",
                facts: [
                    "Tiến hóa: Hiện tượng 'khổng lồ hóa đảo' diễn ra tại các đảo biệt lập (như Galapagos) do thiếu kẻ thù tự nhiên.",
                    "Cổ dài vươn cao: Mai trước của chúng vòm lên cao giúp cái cổ dài vươn lên để ăn lá xương rồng trên cao.",
                    "Sống siêu thọ: Rùa Galapagos có thể sống tới 150-170 năm.",
                    "Ngủ 16 tiếng: Cuộc sống của chúng rất chậm rãi, dành tới 16 tiếng mỗi ngày để ngủ hoặc nghỉ ngơi.",
                    "Cộng sinh: Chúng thường để các loài chim nhỏ đậu trên lưng và mổ ve ký sinh trong các nếp gấp da."
                ]
            },
            {
                id: 13, name: "Rắn Biển", image: "ran-bien.jpg",
                facts: [
                    "Tiến hóa: Chuyển từ đất liền xuống nước, đuôi trở nên dẹt như mái chèo để bơi lội hiệu quả.",
                    "Phổi lớn: Phổi của rắn biển kéo dài gần hết chiều dài cơ thể giúp chúng nín thở dưới nước hàng giờ.",
                    "Nọc độc cực mạnh: Do con mồi là cá bơi nhanh, nọc độc rắn biển thuộc hàng mạnh nhất để hạ gục mồi ngay lập tức.",
                    "Bất lực trên cạn: Đa số rắn biển không thể bò trên đất liền vì vảy bụng đã tiêu biến (trừ loài Rắn cạp nong biển).",
                    "Uống nước ngọt: Dù sống ở biển, chúng vẫn cần ngoi lên mặt nước khi trời mưa để uống nước ngọt."
                ]
            },
            {
                id: 14, name: "Thằn Lằn Bay (Draco)", image: "than-lan-bay.jpg",
                facts: [
                    "Tiến hóa: Sự phát triển của lớp màng da nối liền các xương sườn kéo dài, tạo thành cánh lượn.",
                    "Không biết bay: Thực chất chúng chỉ 'lượn' từ cây cao xuống cây thấp, không thể vỗ cánh bay lên như chim.",
                    "Ngụy trang: Khi đậu trên cây và khép cánh lại, chúng trông y hệt một mảnh vỏ cây khô.",
                    "Lãnh thổ: Con đực thường xòe cái yếm sặc sỡ dưới cổ để khoe mẽ và đuổi các con đực khác.",
                    "Ăn kiến: Món ăn ưa thích nhất của loài 'rồng túi' nhỏ bé này là các loài kiến cây."
                ]
            },
            {
                id: 15, name: "Rắn Hổ Mang", image: "ran-ho-mang.jpg",
                facts: [
                    "Tiến hóa: Sự phát triển vượt bậc của tuyến nọc độc bơm qua răng nanh rỗng và khả năng bành cổ đe dọa.",
                    "Bành mang: Xương sườn ở vùng cổ có thể mở rộng ra hai bên tạo thành hình chiếc mũ trùm đặc trưng.",
                    "Cảnh báo: Tiếng rít của hổ mang chúa nghe giống tiếng gầm gừ của chó hơn là tiếng rít của rắn thường.",
                    "Phun nọc: Một số loài hổ mang có thể phun nọc độc chính xác vào mắt kẻ thù từ khoảng cách 2 mét.",
                    "Ăn thịt đồng loại: Hổ mang chúa là loài chuyên ăn thịt các loài rắn khác, kể cả rắn độc."
                ]
            }
        ];

        // --- State ---
        let currentIndex = 0;
        let isFlipped = false;
        let isEndScreen = false;

        // --- DOM Elements ---
        const contentEl = document.getElementById('card-content');
        const cardHeader = document.getElementById('card-header');
        const counterText = document.getElementById('counter-text');
        const progressBar = document.getElementById('progress-bar');
        const indicatorEl = document.getElementById('side-indicator');
        const btnNext = document.getElementById('btn-next');

        // --- Functions ---

        function renderCard() {
            if (isEndScreen) {
                renderEndScreen();
                return;
            }

            // Reset UI states
            cardHeader.style.display = 'flex';
            
            const currentCard = dataSources[currentIndex];
            
            // Cập nhật Thanh tiến trình & Số đếm
            const progressPercent = ((currentIndex + 1) / dataSources.length) * 100;
            counterText.textContent = `${currentIndex + 1}/${dataSources.length}`;
            progressBar.style.width = `${progressPercent}%`;

            
            if (isFlipped) {
                indicatorEl.textContent = 'Thông tin';
                indicatorEl.className = 'px-2 py-0.5 rounded bg-blue-100 text-blue-800 font-bold text-[10px] uppercase';
            } else {
                indicatorEl.textContent = 'Ảnh';
                indicatorEl.className = 'px-2 py-0.5 rounded bg-amber-100 text-amber-800 font-bold text-[10px] uppercase';
            }

            // Nút Next logic
            btnNext.innerHTML = currentIndex === dataSources.length - 1 ? 'Hoàn thành <i data-lucide="check" class="w-5 h-5"></i>' : 'Sau <i data-lucide="chevron-right" class="w-5 h-5"></i>';

            let html = '';

            if (!isFlipped) {
                // MẶT TRƯỚC:
                html += `<div class="animate-fade-in w-full flex flex-col">`;
                
                // PHẦN ẢNH:
                html += `
                    <div class="relative w-full bg-white">
                         <img 
                            src="${currentCard.image}" 
                            alt="${currentCard.name}" 
                            class="w-full h-auto block"
                            onerror="this.src='https://placehold.co/600x400/orange/white?text=${currentCard.name}';"
                         >
                    </div>
                `;
                
                // NÚT LẬT:
                html += `
                    <div class="w-full flex justify-center py-3 bg-white border-t border-gray-100">
                        <div class="inline-flex items-center gap-1.5 bg-white border border-orange-200 text-orange-600 px-4 py-1.5 rounded-full text-xs font-bold shadow-sm animate-pulse">
                            <i data-lucide="rotate-cw" class="w-3 h-3 text-orange-500"></i>
                            Lật mặt sau để xem 5 sự thật thú vị
                        </div>
                    </div>
                `;
                html += `</div>`;
            } else {
                // MẶT SAU
                html += `<div class="animate-fade-in w-full h-full flex flex-col px-4 pb-6 py-4">`;
                
                html += `<h3 class="flex-none text-xl font-bold text-amber-700 mb-3 uppercase border-b border-amber-200 pb-2 w-full text-center">${currentCard.name}</h3>`;
                
                html += `<div class="flex-grow flex flex-col gap-2 w-full">`;
                
                currentCard.facts.forEach((fact, index) => {
                    html += `
                        <div class="flex items-start gap-3 bg-amber-50 p-3 rounded-lg border border-amber-100 shadow-sm items-center">
                            <span class="flex-shrink-0 bg-amber-500 text-white w-6 h-6 rounded-full flex items-center justify-center font-bold text-xs shadow-sm">${index + 1}</span>
                            <span class="text-gray-700 text-sm leading-snug font-medium text-justify">${fact}</span>
                        </div>
                    `;
                });
                
                html += `</div>`; // End List Container
                html += `</div>`; // End Main Container
            }

            contentEl.innerHTML = html;
            lucide.createIcons();
        }

        function renderEndScreen() {
            cardHeader.style.display = 'none';
            btnNext.innerHTML = 'Hết bài';

            let html = `
                <div class="animate-fade-in flex flex-col items-center justify-center h-full text-center space-y-6 px-4 py-8">
                    
                    <div class="bg-gradient-to-br from-yellow-100 to-amber-200 p-6 rounded-full shadow-lg shadow-yellow-200">
                        <i data-lucide="crown" class="w-20 h-20 text-yellow-600 fill-yellow-600"></i>
                    </div>

                    <div class="px-2">
                        <h2 class="text-2xl md:text-3xl font-bold text-amber-700 mb-3">Bé Giỏi Quá!</h2>
                        <p class="text-gray-600 text-base md:text-lg leading-relaxed">
                            Chúc mừng <b>"Bé"</b> đã hoàn thành hành trình khám phá 15 loài bò sát & lưỡng cư kỳ thú!
                        </p>
                    </div>
                    
                    <a href="https://catalog.zalo.me/?cid=Cj7DJZwIc0rDhRz0DP6M2ZogmrT3w-GVCQNEIK2Gdc0fjSuv98Jh5G" 
                       target="_blank"
                       class="flex items-center gap-3 bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600 text-white px-6 py-4 rounded-xl font-bold text-lg shadow-lg shadow-pink-200 transition-all hover:scale-105 transform border-2 border-white ring-2 ring-pink-100 mt-2">
                        <i data-lucide="gift" class="w-6 h-6"></i>
                        Xem tốt sản phẩm cho Mẹ & Bé 
                    </a>
                    
                    <button 
                        onclick="resetApp()"
                        class="flex items-center gap-2 text-amber-600 hover:text-amber-800 font-semibold text-sm mt-4 bg-amber-50 px-5 py-2 rounded-full transition-colors border border-amber-100">
                        <i data-lucide="rotate-ccw" class="w-4 h-4"></i>
                        Khám phá lại từ đầu
                    </button>
                </div>
            `;
            contentEl.innerHTML = html;
            lucide.createIcons();
        }

        function handleCardClick() {
            if (isEndScreen) return;
            flipCard();
        }

        function flipCard() {
            isFlipped = !isFlipped;
            renderCard();
        }

        function nextCard() {
            event.stopPropagation();
            if (isEndScreen) return;

            if (currentIndex < dataSources.length - 1) {
                currentIndex++;
                isFlipped = false;
                renderCard();
            } else {
                isEndScreen = true;
                isFlipped = false;
                renderCard();
            }
        }

        function prevCard() {
            event.stopPropagation();
            if (isEndScreen) {
                isEndScreen = false;
                currentIndex = dataSources.length - 1;
                renderCard();
                return;
            }

            if (currentIndex > 0) {
                isFlipped = false;
                currentIndex--;
                renderCard();
            }
        }

        function resetApp() {
            event.stopPropagation();
            currentIndex = 0;
            isFlipped = false;
            isEndScreen = false;
            renderCard();
        }

        // --- Init ---
        lucide.createIcons();
        renderCard();

    </script>
</body>
</html>